{% extends "base.html" %}
{% load static %}
{% block title %}
Посты
{% endblock title %}

{% block localcss %}
{% comment %} <link rel="stylesheet" href="{%static 'style/style_forum.css'%}"> {% endcomment %}
<link rel="stylesheet" href="{%static 'style/forum.css'%}">


<!-- Подключение Google icon -->

<!-- знак удалить -->
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" />

<!-- редактировать -->
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" />

{% comment %} Добавить пост {% endcomment %}
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" />

{% endblock localcss %}

{% block content %}



<div class="forum p-3">

    {% comment %} заголовок {% endcomment %}
    <section class="forum_header d-flex justify-content-between align-items-center pb-3 bg-primary bg-gradient p-3 mb-3 shadow rounded">
        <div class="forum_ask">
            {{theme}} <br>
            {% comment %} кнопка менять тему {% endcomment %}
            <a href="{% url 'update_theme' theme=theme_id %}" class="text-info">Изменить</a>
        </div>
        <div class="forum_user_profile">
            <div class="form_message_author"> {{theme_author}} </div>
            <img src="{%static 'image/profile.png'%}">
        </div>
    </section>


    <section class="forum_messages">

        {% for post in posts %}
            <!-- макет сообщения -->
            <div class="forum_message shadow bg-info bg-gradient">
            {% comment %} заголовок сообщения {% endcomment %}
                <header class="d-flex justify-content-between align-items-center px-3">
                    {% comment %} аватарка и ник {% endcomment %}
                    <div class="forum_user_profile">
                        <img src="{{ post.author.avatar.url }}">
                        <div class="form_message_author"> {{post.author.user.username}} </div>
                    </div>

                    {% comment %} кнопки редактировать и удалить {% endcomment %}
                    <div>
                        {% comment %} кнопка редактировать пост {% endcomment %}
                        <button type="button" class="btn btn-primary">
                            <span class="material-symbols-outlined">edit</span>
                        </button>
                        {% comment %} кнопка удалить пост {% endcomment %}
                        <button type="button" class="btn btn-danger">
                            <span class="material-symbols-outlined">delete</span>
                        </button>
                    </div>
                </header>

                
                {% comment %} текст сообщения {% endcomment %}
                <div class="forum_meaaage_text border p-5">
                    {{post.text}}
                </div>
            </div>
        {% endfor %}
        

    </section>

    <form class="pt-1 p-4">
        <div class="d-flex justify-content-end">
            <button type="submit" class="btn btn-primary d-flex align-items-center">
                Добавить пост
                <span class="material-symbols-outlined">send</span>
            </button>
        </div>
    </form>
</div>

{% endblock content %}